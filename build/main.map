{"version":3,"sources":["webpack:///webpack/bootstrap dff15336a544705e74ce","webpack:///external \"immutable\"","webpack:///external \"debug\"","webpack:///./src/DefaultState.js","webpack:///./src/index.js","webpack:///external \"redux\"","webpack:///external \"node-telegram-bot-api\"","webpack:///./src/Reducer.js","webpack:///./src/Activity.js","webpack:///./src/History.js","webpack:///./src/CacheHandler.js"],"names":["defaultState","Immutable","fromJS","activity","action","message","undefined","params","reason","referer","debug","Debug","constructor","token","options","cache","stores","activities","on","chatId","chat","id","store","initState","get","set","createStore","subscribe","state","getState","toJS","text","dispatch","bind","type","payload","refer","checkRedirect","setCacheHandler","handler","createActivity","name","callback","forwardChatId","require","merge","newState","update","Map","actions","Array","isArray","args","apply","keyboards","forEach","value","key","push","length","forward","back","data","Promise","resolve"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dff15336a544705e74ce","module.exports = require(\"immutable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"immutable\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 1\n// module chunks = 0","import Immutable from 'immutable'\n\nexport const defaultState = Immutable.fromJS({\n  activity: 'start',\n  action: 'home',\n  message: undefined,\n  params: {},\n  reason: 'normal',\n  referer: {},\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/DefaultState.js","import {\n  createStore\n} from 'redux'\nimport Immutable from 'immutable'\nimport TelegramBot from 'node-telegram-bot-api'\nimport Debug from 'debug'\n\nimport Reducer from './Reducer'\nimport Activity from './Activity'\nimport History from './History'\nimport CacheHandler from './CacheHandler'\nimport {\n  defaultState\n} from './DefaultState'\n\nconst debug = Debug('tgux:subscriber')\n\nexport default class extends TelegramBot {\n\n  constructor(token, options = {}) {\n    super(token, options)\n\n    this.cache = new CacheHandler\n\n    this.stores = {}\n    this.activities = {}\n\n    this.on('message', async(message) => {\n\n      let chatId = message.chat.id\n      let store = this.stores[chatId]\n\n      if (!store) {\n        let initState = await this.cache.get('State' + chatId)\n\n        if (!initState) {\n          initState = defaultState.set('message', message)\n        }\n\n        store = createStore(Reducer, initState)\n\n        store.subscribe(function () {\n          let state = store.getState().toJS()\n          let {\n            activity,\n            action,\n            message,\n            params,\n            reason\n          } = state\n\n          debug({\n            activity,\n            action,\n            message: message && message.text,\n            params,\n            reason\n          })\n\n          if (message) {\n            this.cache.set('State' + message.chat.id, state)\n          }\n\n          this.activities[activity].dispatch(action, [message, new History(store, reason, params)])\n\n        }.bind(this))\n\n        this.stores[chatId] = store\n      }\n\n      if (message.text == '/start') {\n        return store.dispatch({\n          type: 'REST',\n          payload: {\n            message\n          }\n        })\n      }\n\n      let {\n        activity,\n        action,\n        params\n      } = store.getState().toJS()\n\n      if (action == 'home') {\n        let refer = this.activities[activity].checkRedirect(message.text)\n        if (refer) {\n          return store.dispatch({\n            type: 'FW',\n            payload: {\n              message,\n              refer,\n              params\n            }\n          })\n        }\n      }\n\n      store.dispatch({\n        type: 'RECV',\n        payload: {\n          message\n        }\n      })\n    })\n  }\n\n  setCacheHandler(handler) {\n    if (typeof handler == 'function') {\n      handler = new handler\n    }\n    this.cache = handler\n  }\n\n  createActivity(name, callback) {\n    this.activities[name] = new Activity(name)\n    callback(this.activities[name])\n  }\n\n  forwardChatId(chatId, refer, params = {}) {\n    let store = this.stores[chatId]\n    if (!store) {\n      return false\n    }\n    let {\n      message\n    } = store.getState().toJS()\n    return store.dispatch({\n      type: 'FW',\n      payload: {\n        message,\n        refer,\n        params\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"node-telegram-bot-api\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-telegram-bot-api\"\n// module id = 6\n// module chunks = 0","import Immutable from 'immutable'\nimport {\n  defaultState\n} from './DefaultState'\n\nconst debug = require('debug')('tgux:reducer')\n\nexport default function (state, {\n  type,\n  payload = {}\n}) {\n  debug(type, payload, state)\n\n  switch (type) {\n    case 'RECV':\n      {\n        let {\n          message\n        } = payload\n        return state\n          .merge({\n            message,\n            reason: 'normal'\n          })\n      }\n    case 'BACK':\n      {\n        let referer = state.get('referer')\n        return state\n          .merge(referer)\n          .merge({\n            reason: 'back',\n            referer: {}\n          })\n      }\n    case 'FW':\n      {\n        let {\n          message,\n          refer,\n          params\n        } = payload\n        let [activity, action] = refer\n        let newState = state\n          .merge({\n            message,\n            params,\n            reason: 'forward'\n          })\n          .update('referer', () => {\n            if (activity == 'start' && action == 'home') {\n              return {}\n            }\n            return {\n              activity: state.get('activity'),\n              action: state.get('action'),\n            }\n          })\n\n        if (!action) {\n          return newState.merge({\n            action: activity\n          })\n        } else {\n          return newState.merge({\n            activity,\n            action\n          })\n        }\n      }\n    case 'REST':\n      {\n        let {\n          message\n        } = payload\n        return defaultState.merge({\n          message\n        })\n      }\n    default:\n      {\n        return Immutable.Map(state)\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Reducer.js","import Immutable from 'immutable'\n\nexport default class {\n  constructor(name) {\n    this.name = name\n    this.actions = {}\n  }\n\n  on(action, callback) {\n    this.actions[action] = callback\n  }\n\n  checkRedirect(text) {\n    let action = this.actions[text]\n    return action && Array.isArray(action) && action\n  }\n\n  dispatch(action, args) {\n    this.actions[action].apply(this, args)\n  }\n\n  get keyboards() {\n    let actions = Immutable.Map(this.actions)\n    let keyboards = []\n    actions.forEach((value, key) => {\n      if (Array.isArray(value)) {\n        keyboards.push(key)\n      }\n    })\n    if (!keyboards.length) {\n      return false\n    }\n    return [keyboards]\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Activity.js","import Immutable from 'immutable'\nimport Debug from 'debug'\n\nconst debug = Debug('tgux:history')\n\nexport default class {\n  constructor(store, reason = 'normal', params = {}) {\n    this.store = store\n    this.reason = reason\n    this.params = params\n  }\n\n  forward(refer, params) {\n    debug('Forward', refer)\n    let {\n      message\n    } = this.store.getState().toJS()\n    this.store.dispatch({\n      type: 'FW',\n      payload: {\n        message,\n        refer,\n        params\n      }\n    })\n  }\n\n  back() {\n    debug('Back')\n    this.store.dispatch({\n      type: 'BACK'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/History.js","import Debug from 'debug'\n\nconst debug = Debug('tgux:cache')\n\nexport default class {\n  constructor() {\n    this.data = {}\n  }\n\n  set(key, value) {\n    debug('Write', key, value)\n    return new Promise(function (resolve) {\n      this.data[key] = value\n      resolve()\n    }.bind(this))\n  }\n\n  get(key) {\n    debug('Read', key)\n    return new Promise(function (resolve) {\n      if (key in this.data) {\n        return resolve(this.data[key])\n      } else {\n        return resolve(false)\n      }\n    }.bind(this))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CacheHandler.js"],"sourceRoot":""}