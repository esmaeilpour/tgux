{"version":3,"sources":["webpack:///webpack/bootstrap aeaf68c3758980cbc2a7","webpack:///external \"immutable\"","webpack:///external \"debug\"","webpack:///./src/DefaultState.js","webpack:///./src/index.js","webpack:///external \"co\"","webpack:///external \"redux\"","webpack:///external \"node-telegram-bot-api\"","webpack:///./src/Reducer.js","webpack:///./src/Activity.js","webpack:///./src/History.js","webpack:///./src/CacheHandler.js"],"names":["Immutable","require","module","exports","fromJS","activity","action","message","undefined","params","reason","referer","co","Redux","Tg","debug","Reducer","Activity","History","CacheHandler","defaultState","Tgux","constructor","token","options","cache","stores","activities","on","wrap","chatId","chat","id","store","initState","get","set","createStore","subscribe","state","getState","toJS","text","dispatch","bind","type","payload","refer","checkRedirect","setCacheHandler","handler","createActivity","name","callback","merge","newState","update","Map","actions","Array","isArray","args","apply","keyboards","forEach","value","key","push","length","forward","back","debugSet","debugGet","data","Promise","resolve"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aeaf68c3758980cbc2a7","module.exports = require(\"immutable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"immutable\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 1\n// module chunks = 0","const Immutable = require('immutable')\n\nmodule.exports = Immutable.fromJS({\n    activity: 'start',\n    action: 'home',\n    message: undefined,\n    params: {},\n    reason: 'normal',\n    referer: {},\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/DefaultState.js","const co = require('co')\nconst Redux = require('redux')\nconst Immutable = require('immutable')\nconst Tg = require('node-telegram-bot-api')\nconst debug = require('debug')('tgux:subscribe')\n\nconst Reducer = require('./Reducer')\nconst Activity = require('./Activity')\nconst History = require('./History')\nconst CacheHandler = require('./CacheHandler')\nconst defaultState = require('./DefaultState')\n\nmodule.exports = class Tgux extends Tg {\n\n    constructor(token, options = {}) {\n        super(token, options)\n\n        this.cache = new CacheHandler\n\n        this.stores = {}\n        this.activities = {}\n\n        this.on('message', co.wrap(function*(message) {\n\n            let chatId = message.chat.id\n            let store = this.stores[chatId]\n\n            if (!store) {\n                let initState = yield this.cache.get('State' + chatId)\n\n                if (!initState) {\n                    initState = defaultState.set('message', message)\n                }\n\n                store = Redux.createStore(Reducer, initState)\n\n                store.subscribe(function() {\n                    let state = store.getState().toJS()\n                    let {activity, action, message, params, reason} = state\n\n                    debug({activity, action, message: message && message.text, params, reason})\n\n                    if (message) {\n                        this.cache.set('State' + message.chat.id, state)\n                    }\n\n                    this.activities[activity].dispatch(action, [message, new History(store, reason, params)])\n\n                }.bind(this))\n\n                this.stores[chatId] = store\n            }\n\n            if (message.text == '/start') {\n                return store.dispatch({type: 'REST', payload: {message}})\n            }\n\n            let {activity, action, params} = store.getState().toJS()\n\n            if (action == 'home') {\n                let refer = this.activities[activity].checkRedirect(message.text)\n                if (refer) {\n                    return store.dispatch({type: 'FW', payload: {message, refer, params}})\n                }\n            }\n\n            store.dispatch({type: 'RECV', payload: {message}})\n        }))\n    }\n\n    setCacheHandler(handler) {\n        this.cache = new handler\n    }\n\n    createActivity(name, callback) {\n        this.activities[name] = new Activity(name)\n        callback(this.activities[name])\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"co\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"co\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"node-telegram-bot-api\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-telegram-bot-api\"\n// module id = 7\n// module chunks = 0","const debug = require('debug')('tgux:reducer')\nconst Immutable = require('immutable')\nconst defaultState = require('./DefaultState')\n\nmodule.exports = function(state, {type, payload = {}}) {\n    debug(type, payload, state)\n\n    switch(type) {\n        case 'RECV': {\n            let {message} = payload\n            return state\n                .merge({message, reason: 'normal'})\n        }\n        case 'BACK': {\n            let referer = state.get('referer')\n            return state\n                .merge(referer)\n                .merge({reason: 'back', referer: {}})\n        }\n        case 'FW': {\n            let {message, refer, params} = payload\n            let [activity, action] = refer\n            let newState = state\n                .merge({message, params, reason: 'forward'})\n                .update('referer', () => {\n                    if (activity == 'start' && action == 'home') {\n                        return {}\n                    }\n                    return {\n                        activity: state.get('activity'),\n                        action: state.get('action'),\n                    }\n                })\n\n            if (!action) {\n                return newState.merge({action: activity})\n            } else {\n                return newState.merge({activity, action})\n            }\n        }\n\n        case 'REST':{\n            let {message} = payload\n            return defaultState.merge({message})\n        }\n        default: {\n            return Immutable.Map(state)\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Reducer.js","const Immutable = require('immutable')\n\nmodule.exports = class Activity {\n    constructor(name) {\n        this.name = name\n        this.actions = {}\n    }\n\n    on(action, callback) {\n        this.actions[action] = callback\n    }\n\n    checkRedirect(text) {\n        let action = this.actions[text]\n        return action && Array.isArray(action) && action\n    }\n\n    dispatch(action, args) {\n        this.actions[action].apply(this, args)\n    }\n\n    get keyboards() {\n        let actions = Immutable.Map(this.actions)\n        let keyboards = []\n        actions.forEach((value, key) => {\n            if (Array.isArray(value)) {\n                keyboards.push(key)\n            }\n        })\n        if (!keyboards.length) {\n            return false\n        }\n        return [keyboards]\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Activity.js","const Immutable = require('immutable')\nconst debug = require('debug')('tgux:history')\n\nmodule.exports = class History {\n    constructor(store, reason = 'normal', params = {}) {\n        this.store = store\n        this.reason = reason\n        this.params = params\n    }\n\n    forward(refer, params) {\n        debug('Forward', refer)\n        let {message} = this.store.getState().toJS()\n        this.store.dispatch({type: 'FW', payload: {message, refer, params}})\n    }\n\n    back() {\n        debug('Back')\n        this.store.dispatch({type: 'BACK'})\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/History.js","'use strict'\n\nconst debugSet = require('debug')('tgux:cacheWrite')\nconst debugGet = require('debug')('tgux:cacheRead')\n\nmodule.exports = class CacheHandler {\n    constructor() {\n        this.data = {}\n    }\n\n    set(key, value) {\n        debugSet(key, value)\n        return new Promise(function(resolve) {\n            this.data[key] = value\n            resolve()\n        }.bind(this))\n    }\n\n    get(key) {\n        debugGet(key)\n        return new Promise(function(resolve) {\n            if (key in this.data) {\n                return resolve(this.data[key])\n            } else {\n                return resolve(false)\n            }\n        }.bind(this))\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CacheHandler.js"],"sourceRoot":""}